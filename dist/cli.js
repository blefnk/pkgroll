#!/usr/bin/env node
"use strict";var iD=require("fs"),aD=require("tty"),fu=require("rollup"),sD=require("path"),lD=require("@rollup/plugin-node-resolve"),FD=require("@rollup/plugin-commonjs"),cD=require("@rollup/plugin-json"),CD=require("@rollup/plugin-alias"),fD=require("@rollup/plugin-replace"),ED=require("@rollup/plugin-inject"),dD=require("@rollup/pluginutils"),Eu=require("esbuild"),du=require("module"),pD=require("magic-string");function x(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var j=x(iD),gD=x(aD),g=x(sD),hD=x(lD),mD=x(FD),BD=x(cD),AD=x(CD),pu=x(fD),bD=x(ED),yD=x(du),vD=x(pD);const wD="known-flag",$D="unknown-flag",jD="argument",{stringify:M}=JSON,xD=/\B([A-Z])/g,OD=u=>u.replace(xD,"-$1").toLowerCase(),{hasOwnProperty:kD}=Object.prototype,I=(u,e)=>kD.call(u,e),SD=u=>Array.isArray(u),gu=u=>typeof u=="function"?[u,!1]:SD(u)?[u[0],!0]:gu(u.type),TD=(u,e)=>u===Boolean?e!=="false":e,PD=(u,e)=>typeof e=="boolean"?e:u===Number&&e===""?Number.NaN:u(e),_D=/[\s.:=]/,ND=u=>{const e=`Flag name ${M(u)}`;if(u.length===0)throw new Error(`${e} cannot be empty`);if(u.length===1)throw new Error(`${e} must be longer than a character`);const t=u.match(_D);if(t)throw new Error(`${e} cannot contain ${M(t==null?void 0:t[0])}`)},RD=u=>{const e={},t=(D,n)=>{if(I(e,D))throw new Error(`Duplicate flags named ${M(D)}`);e[D]=n};for(const D in u){if(!I(u,D))continue;ND(D);const n=u[D],r=[[],...gu(n),n];t(D,r);const o=OD(D);if(D!==o&&t(o,r),"alias"in n&&typeof n.alias=="string"){const{alias:i}=n,a=`Flag alias ${M(i)} for flag ${M(D)}`;if(i.length===0)throw new Error(`${a} cannot be empty`);if(i.length>1)throw new Error(`${a} must be a single character`);t(i,r)}}return e},MD=(u,e)=>{const t={};for(const D in u){if(!I(u,D))continue;const[n,,r,o]=e[D];if(n.length===0&&"default"in o){let{default:i}=o;typeof i=="function"&&(i=i()),t[D]=i}else t[D]=r?n:n.pop()}return t},V="--",ID=/[.:=]/,LD=/^-{1,2}\w/,WD=u=>{if(!LD.test(u))return;const e=!u.startsWith(V);let t=u.slice(e?1:2),D;const n=t.match(ID);if(n){const{index:r}=n;D=t.slice(r+1),t=t.slice(0,r)}return[t,D,e]},qD=(u,{onFlag:e,onArgument:t})=>{let D;const n=(r,o)=>{if(typeof D!="function")return!0;D(r,o),D=void 0};for(let r=0;r<u.length;r+=1){const o=u[r];if(o===V){n();const a=u.slice(r+1);t==null||t(a,[r],!0);break}const i=WD(o);if(i){if(n(),!e)continue;const[a,s,F]=i;if(F)for(let l=0;l<a.length;l+=1){n();const c=l===a.length-1;D=e(a[l],c?s:void 0,[r,l+1,c])}else D=e(a,s,[r])}else n(o,[r])&&(t==null||t([o],[r]))}n()},UD=(u,e)=>{for(const[t,D,n]of e.reverse()){if(D){const r=u[t];let o=r.slice(0,D);if(n||(o+=r.slice(D+1)),o!=="-"){u[t]=o;continue}}u.splice(t,1)}},zD=(u,e=process.argv.slice(2),{ignore:t}={})=>{const D=[],n=RD(u),r={},o=[];return o[V]=[],qD(e,{onFlag(i,a,s){const F=I(n,i);if(!(t!=null&&t(F?wD:$D,i,a))){if(F){const[l,c]=n[i],f=TD(c,a),d=(B,A)=>{D.push(s),A&&D.push(A),l.push(PD(c,B||""))};return f===void 0?d:d(f)}I(r,i)||(r[i]=[]),r[i].push(a===void 0?!0:a),D.push(s)}},onArgument(i,a,s){t!=null&&t(jD,e[a[0]])||(o.push(...i),s?(o[V]=i,e.splice(a[0])):D.push(a))}}),UD(e,D),{flags:MD(u,n),unknownFlags:r,_:o}};var VD=Object.create,G=Object.defineProperty,GD=Object.defineProperties,ZD=Object.getOwnPropertyDescriptor,JD=Object.getOwnPropertyDescriptors,YD=Object.getOwnPropertyNames,hu=Object.getOwnPropertySymbols,HD=Object.getPrototypeOf,mu=Object.prototype.hasOwnProperty,KD=Object.prototype.propertyIsEnumerable,Bu=(u,e,t)=>e in u?G(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t,Z=(u,e)=>{for(var t in e||(e={}))mu.call(e,t)&&Bu(u,t,e[t]);if(hu)for(var t of hu(e))KD.call(e,t)&&Bu(u,t,e[t]);return u},Du=(u,e)=>GD(u,JD(e)),QD=u=>G(u,"__esModule",{value:!0}),XD=(u,e)=>()=>(u&&(e=u(u=0)),e),ue=(u,e)=>()=>(e||u((e={exports:{}}).exports,e),e.exports),De=(u,e,t,D)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of YD(e))!mu.call(u,n)&&(t||n!=="default")&&G(u,n,{get:()=>e[n],enumerable:!(D=ZD(e,n))||D.enumerable});return u},ee=(u,e)=>De(QD(G(u!=null?VD(HD(u)):{},"default",!e&&u&&u.__esModule?{get:()=>u.default,enumerable:!0}:{value:u,enumerable:!0})),u),v=XD(()=>{}),te=ue((u,e)=>{v(),e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}});v(),v(),v();var ne=u=>{var e,t,D;let n=(e=process.stdout.columns)!=null?e:Number.POSITIVE_INFINITY;return typeof u=="function"&&(u=u(n)),u||(u={}),Array.isArray(u)?{columns:u,stdoutColumns:n}:{columns:(t=u.columns)!=null?t:[],stdoutColumns:(D=u.stdoutColumns)!=null?D:n}};v(),v(),v(),v(),v();function re({onlyFirst:u=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,u?void 0:"g")}function Au(u){if(typeof u!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof u}\``);return u.replace(re(),"")}v();function oe(u){return Number.isInteger(u)?u>=4352&&(u<=4447||u===9001||u===9002||11904<=u&&u<=12871&&u!==12351||12880<=u&&u<=19903||19968<=u&&u<=42182||43360<=u&&u<=43388||44032<=u&&u<=55203||63744<=u&&u<=64255||65040<=u&&u<=65049||65072<=u&&u<=65131||65281<=u&&u<=65376||65504<=u&&u<=65510||110592<=u&&u<=110593||127488<=u&&u<=127569||131072<=u&&u<=262141):!1}var ie=ee(te(),1);function S(u){if(typeof u!="string"||u.length===0||(u=Au(u),u.length===0))return 0;u=u.replace((0,ie.default)(),"  ");let e=0;for(let t=0;t<u.length;t++){let D=u.codePointAt(t);D<=31||D>=127&&D<=159||D>=768&&D<=879||(D>65535&&t++,e+=oe(D)?2:1)}return e}var bu=u=>Math.max(...u.split(`
`).map(S)),ae=u=>{let e=[];for(let t of u){let{length:D}=t,n=D-e.length;for(let r=0;r<n;r+=1)e.push(0);for(let r=0;r<D;r+=1){let o=bu(t[r]);o>e[r]&&(e[r]=o)}}return e};v();var yu=/^\d+%$/,vu={width:"auto",align:"left",contentWidth:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,horizontalPadding:0,paddingLeftString:"",paddingRightString:""},se=(u,e)=>{var t;let D=[];for(let n=0;n<u.length;n+=1){let r=(t=e[n])!=null?t:"auto";if(typeof r=="number"||r==="auto"||r==="content-width"||typeof r=="string"&&yu.test(r)){D.push(Du(Z({},vu),{width:r,contentWidth:u[n]}));continue}if(r&&typeof r=="object"){let o=Du(Z(Z({},vu),r),{contentWidth:u[n]});o.horizontalPadding=o.paddingLeft+o.paddingRight,D.push(o);continue}throw new Error(`Invalid column width: ${JSON.stringify(r)}`)}return D};function le(u,e){for(let t of u){let{width:D}=t;if(D==="content-width"&&(t.width=t.contentWidth),D==="auto"){let a=Math.min(20,t.contentWidth);t.width=a,t.autoOverflow=t.contentWidth-a}if(typeof D=="string"&&yu.test(D)){let a=Number.parseFloat(D.slice(0,-1))/100;t.width=Math.floor(e*a)-(t.paddingLeft+t.paddingRight)}let{horizontalPadding:n}=t,r=1,o=r+n;if(o>=e){let a=o-e,s=Math.ceil(t.paddingLeft/n*a),F=a-s;t.paddingLeft-=s,t.paddingRight-=F,t.horizontalPadding=t.paddingLeft+t.paddingRight}t.paddingLeftString=t.paddingLeft?" ".repeat(t.paddingLeft):"",t.paddingRightString=t.paddingRight?" ".repeat(t.paddingRight):"";let i=e-t.horizontalPadding;t.width=Math.max(Math.min(t.width,i),r)}}var wu=()=>Object.assign([],{columns:0});function Fe(u,e){let t=[wu()],[D]=t;for(let n of u){let r=n.width+n.horizontalPadding;D.columns+r>e&&(D=wu(),t.push(D)),D.push(n),D.columns+=r}for(let n of t){let r=n.reduce((c,f)=>c+f.width+f.horizontalPadding,0),o=e-r;if(o===0)continue;let i=n.filter(c=>"autoOverflow"in c),a=i.filter(c=>c.autoOverflow>0),s=a.reduce((c,f)=>c+f.autoOverflow,0),F=Math.min(s,o);for(let c of a){let f=Math.floor(c.autoOverflow/s*F);c.width+=f,o-=f}let l=Math.floor(o/i.length);for(let c=0;c<i.length;c+=1){let f=i[c];c===i.length-1?f.width+=o:f.width+=l,o-=l}}return t}function ce(u,e,t){let D=se(t,e);return le(D,u),Fe(D,u)}v(),v(),v();var eu=10,$u=(u=0)=>e=>`\x1B[${e+u}m`,ju=(u=0)=>e=>`\x1B[${38+u};5;${e}m`,xu=(u=0)=>(e,t,D)=>`\x1B[${38+u};2;${e};${t};${D}m`;function Ce(){let u=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[t,D]of Object.entries(e)){for(let[n,r]of Object.entries(D))e[n]={open:`\x1B[${r[0]}m`,close:`\x1B[${r[1]}m`},D[n]=e[n],u.set(r[0],r[1]);Object.defineProperty(e,t,{value:D,enumerable:!1})}return Object.defineProperty(e,"codes",{value:u,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",e.color.ansi=$u(),e.color.ansi256=ju(),e.color.ansi16m=xu(),e.bgColor.ansi=$u(eu),e.bgColor.ansi256=ju(eu),e.bgColor.ansi16m=xu(eu),Object.defineProperties(e,{rgbToAnsi256:{value:(t,D,n)=>t===D&&D===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(D/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:t=>{let D=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(t.toString(16));if(!D)return[0,0,0];let{colorString:n}=D.groups;n.length===3&&(n=n.split("").map(o=>o+o).join(""));let r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,r&255]},enumerable:!1},hexToAnsi256:{value:t=>e.rgbToAnsi256(...e.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value:t=>{if(t<8)return 30+t;if(t<16)return 90+(t-8);let D,n,r;if(t>=232)D=((t-232)*10+8)/255,n=D,r=D;else{t-=16;let a=t%36;D=Math.floor(t/36)/5,n=Math.floor(a/6)/5,r=a%6/5}let o=Math.max(D,n,r)*2;if(o===0)return 30;let i=30+(Math.round(r)<<2|Math.round(n)<<1|Math.round(D));return o===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(t,D,n)=>e.ansi256ToAnsi(e.rgbToAnsi256(t,D,n)),enumerable:!1},hexToAnsi:{value:t=>e.ansi256ToAnsi(e.hexToAnsi256(t)),enumerable:!1}}),e}var fe=Ce(),Ee=fe,J=new Set(["\x1B","\x9B"]),de=39,tu="\x07",Ou="[",pe="]",ku="m",nu=`${pe}8;;`,Su=u=>`${J.values().next().value}${Ou}${u}${ku}`,Tu=u=>`${J.values().next().value}${nu}${u}${tu}`,ge=u=>u.split(" ").map(e=>S(e)),ru=(u,e,t)=>{let D=[...e],n=!1,r=!1,o=S(Au(u[u.length-1]));for(let[i,a]of D.entries()){let s=S(a);if(o+s<=t?u[u.length-1]+=a:(u.push(a),o=0),J.has(a)&&(n=!0,r=D.slice(i+1).join("").startsWith(nu)),n){r?a===tu&&(n=!1,r=!1):a===ku&&(n=!1);continue}o+=s,o===t&&i<D.length-1&&(u.push(""),o=0)}!o&&u[u.length-1].length>0&&u.length>1&&(u[u.length-2]+=u.pop())},he=u=>{let e=u.split(" "),t=e.length;for(;t>0&&!(S(e[t-1])>0);)t--;return t===e.length?u:e.slice(0,t).join(" ")+e.slice(t).join("")},me=(u,e,t={})=>{if(t.trim!==!1&&u.trim()==="")return"";let D="",n,r,o=ge(u),i=[""];for(let[s,F]of u.split(" ").entries()){t.trim!==!1&&(i[i.length-1]=i[i.length-1].trimStart());let l=S(i[i.length-1]);if(s!==0&&(l>=e&&(t.wordWrap===!1||t.trim===!1)&&(i.push(""),l=0),(l>0||t.trim===!1)&&(i[i.length-1]+=" ",l++)),t.hard&&o[s]>e){let c=e-l,f=1+Math.floor((o[s]-c-1)/e);Math.floor((o[s]-1)/e)<f&&i.push(""),ru(i,F,e);continue}if(l+o[s]>e&&l>0&&o[s]>0){if(t.wordWrap===!1&&l<e){ru(i,F,e);continue}i.push("")}if(l+o[s]>e&&t.wordWrap===!1){ru(i,F,e);continue}i[i.length-1]+=F}t.trim!==!1&&(i=i.map(s=>he(s)));let a=[...i.join(`
`)];for(let[s,F]of a.entries()){if(D+=F,J.has(F)){let{groups:c}=new RegExp(`(?:\\${Ou}(?<code>\\d+)m|\\${nu}(?<uri>.*)${tu})`).exec(a.slice(s).join(""))||{groups:{}};if(c.code!==void 0){let f=Number.parseFloat(c.code);n=f===de?void 0:f}else c.uri!==void 0&&(r=c.uri.length===0?void 0:c.uri)}let l=Ee.codes.get(Number(n));a[s+1]===`
`?(r&&(D+=Tu("")),n&&l&&(D+=Su(l))):F===`
`&&(n&&l&&(D+=Su(n)),r&&(D+=Tu(r)))}return D};function Be(u,e,t){return String(u).normalize().replace(/\r\n/g,`
`).split(`
`).map(D=>me(D,e,t)).join(`
`)}var Pu=u=>Array.from({length:u}).fill("");function Ae(u,e){let t=[],D=0;for(let n of u){let r=0,o=n.map(a=>{var s;let F=(s=e[D])!=null?s:"";D+=1,a.preprocess&&(F=a.preprocess(F)),bu(F)>a.width&&(F=Be(F,a.width,{hard:!0}));let l=F.split(`
`);if(a.postprocess){let{postprocess:c}=a;l=l.map((f,d)=>c.call(a,f,d))}return a.paddingTop&&l.unshift(...Pu(a.paddingTop)),a.paddingBottom&&l.push(...Pu(a.paddingBottom)),l.length>r&&(r=l.length),Du(Z({},a),{lines:l})}),i=[];for(let a=0;a<r;a+=1){let s=o.map(F=>{var l;let c=(l=F.lines[a])!=null?l:"",f=Number.isFinite(F.width)?" ".repeat(F.width-S(c)):"",d=F.paddingLeftString;return F.align==="right"&&(d+=f),d+=c,F.align==="left"&&(d+=f),d+F.paddingRightString}).join("");i.push(s)}t.push(i.join(`
`))}return t.join(`
`)}function be(u,e){if(!u||u.length===0)return"";let t=ae(u),D=t.length;if(D===0)return"";let{stdoutColumns:n,columns:r}=ne(e);if(r.length>D)throw new Error(`${r.length} columns defined, but only ${D} columns found`);let o=ce(n,r,t);return u.map(i=>Ae(o,i)).join(`
`)}v();var ye=["<",">","=",">=","<="];function ve(u){if(!ye.includes(u))throw new TypeError(`Invalid breakpoint operator: ${u}`)}function we(u){let e=Object.keys(u).map(t=>{let[D,n]=t.split(" ");ve(D);let r=Number.parseInt(n,10);if(Number.isNaN(r))throw new TypeError(`Invalid breakpoint value: ${n}`);let o=u[t];return{operator:D,breakpoint:r,value:o}}).sort((t,D)=>D.breakpoint-t.breakpoint);return t=>{var D;return(D=e.find(({operator:n,breakpoint:r})=>n==="="&&t===r||n===">"&&t>r||n==="<"&&t<r||n===">="&&t>=r||n==="<="&&t<=r))==null?void 0:D.value}}const $e=u=>u.replace(/[-_ ](\w)/g,(e,t)=>t.toUpperCase()),je=u=>u.replace(/\B([A-Z])/g,"-$1").toLowerCase(),xe={"> 80":[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"auto"}],"> 40":[{width:"auto",paddingLeft:2,paddingRight:8,preprocess:u=>u.trim()},{width:"100%",paddingLeft:2,paddingBottom:1}],"> 0":{stdoutColumns:1e3,columns:[{width:"content-width",paddingLeft:2,paddingRight:8},{width:"content-width"}]}};function Oe(u){let e=!1;return{type:"table",data:{tableData:Object.keys(u).sort((D,n)=>D.localeCompare(n)).map(D=>{const n=u[D],r="alias"in n;return r&&(e=!0),{name:D,flag:n,flagFormatted:`--${je(D)}`,aliasesEnabled:e,aliasFormatted:r?`-${n.alias}`:void 0}}).map(D=>(D.aliasesEnabled=e,[{type:"flagName",data:D},{type:"flagDescription",data:D}])),tableBreakpoints:xe}}}const _u=u=>{var e;return!u||((e=u.version)!=null?e:u.help?u.help.version:void 0)},Nu=u=>{var t;const e="parent"in u&&((t=u.parent)==null?void 0:t.name);return(e?`${e} `:"")+u.name};function ke(u){var D;const e=[];u.name&&e.push(Nu(u));const t=(D=_u(u))!=null?D:"parent"in u&&_u(u.parent);if(t&&e.push(`v${t}`),e.length!==0)return{id:"name",type:"text",data:`${e.join(" ")}
`}}function Se(u){const{help:e}=u;if(!(!e||!e.description))return{id:"description",type:"text",data:`${e.description}
`}}function Te(u){var t;const e=u.help||{};if("usage"in e)return e.usage?{id:"usage",type:"section",data:{title:"Usage:",body:Array.isArray(e.usage)?e.usage.join(`
`):e.usage}}:void 0;if(u.name){const D=[],n=[Nu(u)];if(u.flags&&Object.keys(u.flags).length>0&&n.push("[flags...]"),u.parameters&&u.parameters.length>0){const{parameters:r}=u,o=r.indexOf("--"),i=o>-1&&r.slice(o+1).some(a=>a.startsWith("<"));n.push(r.map(a=>a!=="--"?a:i?"--":"[--]").join(" "))}if(n.length>1&&D.push(n.join(" ")),"commands"in u&&((t=u.commands)==null?void 0:t.length)&&D.push(`${u.name} <command>`),D.length>0)return{id:"usage",type:"section",data:{title:"Usage:",body:D.join(`
`)}}}}function Pe(u){var t;return!("commands"in u)||!((t=u.commands)!=null&&t.length)?void 0:{id:"commands",type:"section",data:{title:"Commands:",body:{type:"table",data:{tableData:u.commands.map(D=>[D.options.name,D.options.help?D.options.help.description:""]),tableOptions:[{width:"content-width",paddingLeft:2,paddingRight:8}]}},indentBody:0}}}function _e(u){if(!(!u.flags||Object.keys(u.flags).length===0))return{id:"flags",type:"section",data:{title:"Flags:",body:Oe(u.flags),indentBody:0}}}function Ne(u){const{help:e}=u;if(!e||!e.examples||e.examples.length===0)return;let{examples:t}=e;if(Array.isArray(t)&&(t=t.join(`
`)),t)return{id:"examples",type:"section",data:{title:"Examples:",body:t}}}function Re(u){if(!("alias"in u)||!u.alias)return;const{alias:e}=u;return{id:"aliases",type:"section",data:{title:"Aliases:",body:Array.isArray(e)?e.join(", "):e}}}const Me=u=>[ke,Se,Te,Pe,_e,Ne,Re].map(e=>e(u)).filter(Boolean),Ie=gD.default.WriteStream.prototype.hasColors();class Le{text(e){return e}bold(e){return Ie?`\x1B[1m${e}\x1B[22m`:e.toLocaleUpperCase()}indentText({text:e,spaces:t}){return e.replace(/^/gm," ".repeat(t))}heading(e){return this.bold(e)}section({title:e,body:t,indentBody:D=2}){return`${(e?`${this.heading(e)}
`:"")+(t?this.indentText({text:this.render(t),spaces:D}):"")}
`}table({tableData:e,tableOptions:t,tableBreakpoints:D}){return be(e.map(n=>n.map(r=>this.render(r))),D?we(D):t)}flagParameter(e){return e===Boolean?"":e===String?"<string>":e===Number?"<number>":Array.isArray(e)?this.flagParameter(e[0]):"<value>"}flagOperator(e){return" "}flagName(e){const{flag:t,flagFormatted:D,aliasesEnabled:n,aliasFormatted:r}=e;let o="";if(r?o+=`${r}, `:n&&(o+="    "),o+=D,"placeholder"in t&&typeof t.placeholder=="string")o+=`${this.flagOperator(e)}${t.placeholder}`;else{const i=this.flagParameter("type"in t?t.type:t);i&&(o+=`${this.flagOperator(e)}${i}`)}return o}flagDefault(e){return JSON.stringify(e)}flagDescription({flag:e}){var D;let t="description"in e&&(D=e.description)!=null?D:"";if("default"in e){let{default:n}=e;typeof n=="function"&&(n=n()),n&&(t+=` (default: ${this.flagDefault(n)})`)}return t}render(e){if(typeof e=="string")return e;if(Array.isArray(e))return e.map(t=>this.render(t)).join(`
`);if("type"in e&&this[e.type]){const t=this[e.type];if(typeof t=="function")return t.call(this,e.data)}throw new Error(`Invalid node type: ${JSON.stringify(e)}`)}}const Ru=/^[\w.-]+$/,{stringify:O}=JSON,We=/[|\\{}()[\]^$+*?.]/;function ou(u){const e=[];let t,D;for(const n of u){if(D)throw new Error(`Invalid parameter: Spread parameter ${O(D)} must be last`);const r=n[0],o=n[n.length-1];let i;if(r==="<"&&o===">"&&(i=!0,t))throw new Error(`Invalid parameter: Required parameter ${O(n)} cannot come after optional parameter ${O(t)}`);if(r==="["&&o==="]"&&(i=!1,t=n),i===void 0)throw new Error(`Invalid parameter: ${O(n)}. Must be wrapped in <> (required parameter) or [] (optional parameter)`);let a=n.slice(1,-1);const s=a.slice(-3)==="...";s&&(D=n,a=a.slice(0,-3));const F=a.match(We);if(F)throw new Error(`Invalid parameter: ${O(n)}. Invalid character found ${O(F[0])}`);e.push({name:a,required:i,spread:s})}return e}function iu(u,e,t,D){for(let n=0;n<e.length;n+=1){const{name:r,required:o,spread:i}=e[n],a=$e(r);if(a in u)throw new Error(`Invalid parameter: ${O(r)} is used more than once.`);const s=i?t.slice(n):t[n];if(i&&(n=e.length),o&&(!s||i&&s.length===0))return console.error(`Error: Missing required parameter ${O(r)}
`),D(),process.exit(1);u[a]=s}}function qe(u){return u===void 0||u!==!1}function Mu(u,e,t,D){const n={...e.flags},r=e.version;r&&(n.version={type:Boolean,description:"Show version"});const{help:o}=e,i=qe(o);i&&!("help"in n)&&(n.help={type:Boolean,alias:"h",description:"Show help"});const a=zD(n,D,{ignore:e.ignoreArgv}),s=()=>{console.log(e.version)};if(r&&a.flags.version===!0)return s(),process.exit(0);const F=new Le,l=i&&(o==null?void 0:o.render)?o.render:d=>F.render(d),c=d=>{const B=Me({...e,...d?{help:d}:{},flags:n});console.log(l(B,F))};if(i&&a.flags.help===!0)return c(),process.exit(0);if(e.parameters){let{parameters:d}=e,B=a._;const A=d.indexOf("--"),p=d.slice(A+1),E=Object.create(null);if(A>-1&&p.length>0){d=d.slice(0,A);const C=a._["--"];B=B.slice(0,-C.length||void 0),iu(E,ou(d),B,c),iu(E,ou(p),C,c)}else iu(E,ou(d),B,c);Object.assign(a._,E)}const f={...a,showVersion:s,showHelp:c};return typeof t=="function"&&t(f),{command:u,...f}}function Ue(u,e){const t=new Map;for(const D of e){const n=[D.options.name],{alias:r}=D.options;r&&(Array.isArray(r)?n.push(...r):n.push(r));for(const o of n){if(t.has(o))throw new Error(`Duplicate command name found: ${O(o)}`);t.set(o,D)}}return t.get(u)}function ze(u,e,t=process.argv.slice(2)){if(!u)throw new Error("Options is required");if("name"in u&&(!u.name||!Ru.test(u.name)))throw new Error(`Invalid script name: ${O(u.name)}`);const D=t[0];if(u.commands&&Ru.test(D)){const n=Ue(D,u.commands);if(n)return Mu(n.options.name,{...n.options,parent:u},n.callback,t.slice(1))}return Mu(void 0,u,e,t)}var Ve="0.0.0-semantic-release";const Iu=u=>j.default.promises.access(u).then(()=>!0,()=>!1),Ge=async u=>{const e=g.default.join(u,"package.json");if(!await Iu(e))throw new Error(`package.json not found at: ${e}`);const D=await j.default.promises.readFile(e,"utf8");try{return JSON.parse(D)}catch(n){throw new Error(`Cannot parse package.json: ${n.message}`)}},Ze=/^[/.]/,Y=(u,e)=>(!g.default.isAbsolute(u)&&!Ze.test(u)&&(u=`./${u}`),e&&!u.endsWith("/")&&(u+="/"),u),k=u=>{if(u.endsWith(".mjs"))return"module";if(u.endsWith(".cjs"))return"commonjs"},Lu=u=>u.startsWith(".");function au(u,e,t="exports"){if(u){if(typeof u=="string")return Lu(u)?[{outputPath:u,type:k(u)||e,from:t}]:[];if(Array.isArray(u))return u.flatMap((D,n)=>{const r=`${t}[${n}]`;return typeof D=="string"?Lu(D)?{outputPath:D,type:k(D)||e,from:r}:[]:au(D,e,r)});if(typeof u=="object")return Object.entries(u).flatMap(([D,n])=>{if(typeof n=="string"){const r={outputPath:n,from:`${t}.${D}`};if(D==="require")return{...r,type:"commonjs"};if(D==="import")return{...r,type:k(n)||e};if(D==="types")return{...r,type:"types"};if(D==="node")return{...r,type:k(n)||e,platform:"node"};if(D==="default")return{...r,type:k(n)||e}}return au(n,e,`${t}.${D}`)})}return[]}function P(u,e){e.outputPath=Y(e.outputPath);const{outputPath:t,type:D,platform:n}=e,r=u[t];if(r){if(r.type!==D)throw new Error(`Conflicting export types "${r.type}" & "${D}" found for ${t}`);if(r.platform!==n)throw new Error(`Conflicting export platforms "${r.platform}" & "${n}" found for ${t}`);Object.assign(r,e)}else u[t]=e}const Je=u=>{var e,t,D,n;const r={},o=(e=u.type)!=null?e:"commonjs";if(u.main){const i=u.main;P(r,{outputPath:i,type:(t=k(i))!=null?t:o,from:"main"})}if(u.module&&P(r,{outputPath:u.module,type:"module",from:"module"}),u.types&&P(r,{outputPath:u.types,type:"types",from:"types"}),u.bin){const{bin:i}=u;if(typeof i=="string")P(r,{outputPath:i,type:(D=k(i))!=null?D:o,isExecutable:!0,from:"bin"});else for(const[a,s]of Object.entries(i))P(r,{outputPath:s,type:(n=k(s))!=null?n:o,isExecutable:!0,from:`bin.${a}`})}if(u.exports){const i=au(u.exports,o);for(const a of i)P(r,a)}return Object.values(r)},Ye=["peerDependencies","dependencies","optionalDependencies"],Wu="@types/",He=u=>{const e=[];for(const t of Ye){const D=u[t];if(D){const n=Object.keys(D);e.push(...n);for(const r of n)if(r.startsWith(Wu)){let o=r.slice(Wu.length);o.includes("__")&&(o=`@${o.replace("__","/")}`),e.push(o)}}}return e},Ke=({imports:u},e)=>{const t={};if(u)for(const D in u){if(D.startsWith("#"))continue;const n=u[D];typeof n=="string"&&(t[D]=g.default.join(e,n))}return t},{stringify:Qe}=JSON;async function Xe(u,e){for(const t of e){const D=u+t;if(await Iu(D))return{extension:t,path:D}}}const qu={".d.ts":[".d.ts",".d.mts",".d.cts",".ts",".mts",".cts"],".d.mts":[".d.mts",".d.ts",".d.cts",".ts",".mts",".cts"],".d.cts":[".d.cts",".d.ts",".d.mts",".ts",".mts",".cts"],".js":[".js",".ts",".tsx",".mts",".cts"],".mjs":[".mjs",".js",".cjs",".mts",".cts",".ts"],".cjs":[".cjs",".js",".mjs",".mts",".cts",".ts"]},ut=Object.keys(qu);async function Dt(u,e,t){const D=e+u.outputPath.slice(t.length);for(const n of ut)if(u.outputPath.endsWith(n)){const r=await Xe(D.slice(0,-n.length),qu[n]);if(r)return{input:r.path,srcExtension:r.extension,distExtension:n}}throw new Error(`Could not find matching source file for export path ${Qe(u.outputPath)}`)}const su="pkgroll:create-require",Uu=`IS_ESM${Math.random().toString(36).slice(2)}`,et=()=>({...bD.default({require:su}),name:"create-require",resolveId:u=>u===su?u:null,load(u){return u!==su?null:`
		import { createRequire } from 'module';

		export default (
			${Uu}
				? /* @__PURE__ */ createRequire(import.meta.url)
				: require
		);
		`}}),tt=u=>({name:"create-require-insert-format",renderChunk:pu.default({[Uu]:u}).renderChunk});function H(u){const e=/^\\\\\?\\/.test(u),t=/[^\u0000-\u0080]+/.test(u);return e||t?u:u.replace(/\\/g,"/")}function lu(u,e){for(;;){const t=g.default.join(u,e);if(j.default.existsSync(t))return H(t);const D=g.default.dirname(u);if(D===u)return;u=D}}function nt(u,e){e===void 0&&(e=!1);var t=u.length,D=0,n="",r=0,o=16,i=0,a=0,s=0,F=0,l=0;function c(C,b){for(var w=0,y=0;w<C||!b;){var m=u.charCodeAt(D);if(m>=48&&m<=57)y=y*16+m-48;else if(m>=65&&m<=70)y=y*16+m-65+10;else if(m>=97&&m<=102)y=y*16+m-97+10;else break;D++,w++}return w<C&&(y=-1),y}function f(C){D=C,n="",r=0,o=16,l=0}function d(){var C=D;if(u.charCodeAt(D)===48)D++;else for(D++;D<u.length&&_(u.charCodeAt(D));)D++;if(D<u.length&&u.charCodeAt(D)===46)if(D++,D<u.length&&_(u.charCodeAt(D)))for(D++;D<u.length&&_(u.charCodeAt(D));)D++;else return l=3,u.substring(C,D);var b=D;if(D<u.length&&(u.charCodeAt(D)===69||u.charCodeAt(D)===101))if(D++,(D<u.length&&u.charCodeAt(D)===43||u.charCodeAt(D)===45)&&D++,D<u.length&&_(u.charCodeAt(D))){for(D++;D<u.length&&_(u.charCodeAt(D));)D++;b=D}else l=3;return u.substring(C,b)}function B(){for(var C="",b=D;;){if(D>=t){C+=u.substring(b,D),l=2;break}var w=u.charCodeAt(D);if(w===34){C+=u.substring(b,D),D++;break}if(w===92){if(C+=u.substring(b,D),D++,D>=t){l=2;break}var y=u.charCodeAt(D++);switch(y){case 34:C+='"';break;case 92:C+="\\";break;case 47:C+="/";break;case 98:C+="\b";break;case 102:C+="\f";break;case 110:C+=`
`;break;case 114:C+="\r";break;case 116:C+="	";break;case 117:var m=c(4,!0);m>=0?C+=String.fromCharCode(m):l=4;break;default:l=5}b=D;continue}if(w>=0&&w<=31)if(L(w)){C+=u.substring(b,D),l=2;break}else l=6;D++}return C}function A(){if(n="",l=0,r=D,a=i,F=s,D>=t)return r=t,o=17;var C=u.charCodeAt(D);if(Fu(C)){do D++,n+=String.fromCharCode(C),C=u.charCodeAt(D);while(Fu(C));return o=15}if(L(C))return D++,n+=String.fromCharCode(C),C===13&&u.charCodeAt(D)===10&&(D++,n+=`
`),i++,s=D,o=14;switch(C){case 123:return D++,o=1;case 125:return D++,o=2;case 91:return D++,o=3;case 93:return D++,o=4;case 58:return D++,o=6;case 44:return D++,o=5;case 34:return D++,n=B(),o=10;case 47:var b=D-1;if(u.charCodeAt(D+1)===47){for(D+=2;D<t&&!L(u.charCodeAt(D));)D++;return n=u.substring(b,D),o=12}if(u.charCodeAt(D+1)===42){D+=2;for(var w=t-1,y=!1;D<w;){var m=u.charCodeAt(D);if(m===42&&u.charCodeAt(D+1)===47){D+=2,y=!0;break}D++,L(m)&&(m===13&&u.charCodeAt(D)===10&&D++,i++,s=D)}return y||(D++,l=1),n=u.substring(b,D),o=13}return n+=String.fromCharCode(C),D++,o=16;case 45:if(n+=String.fromCharCode(C),D++,D===t||!_(u.charCodeAt(D)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return n+=d(),o=11;default:for(;D<t&&p(C);)D++,C=u.charCodeAt(D);if(r!==D){switch(n=u.substring(r,D),n){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return n+=String.fromCharCode(C),D++,o=16}}function p(C){if(Fu(C)||L(C))return!1;switch(C){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function E(){var C;do C=A();while(C>=12&&C<=15);return C}return{setPosition:f,getPosition:function(){return D},scan:e?E:A,getToken:function(){return o},getTokenValue:function(){return n},getTokenOffset:function(){return r},getTokenLength:function(){return D-r},getTokenStartLine:function(){return a},getTokenStartCharacter:function(){return r-F},getTokenError:function(){return l}}}function Fu(u){return u===32||u===9||u===11||u===12||u===160||u===5760||u>=8192&&u<=8203||u===8239||u===8287||u===12288||u===65279}function L(u){return u===10||u===13||u===8232||u===8233}function _(u){return u>=48&&u<=57}var K;(function(u){u.DEFAULT={allowTrailingComma:!1}})(K||(K={}));function rt(u,e,t){e===void 0&&(e=[]),t===void 0&&(t=K.DEFAULT);var D=null,n=[],r=[];function o(a){Array.isArray(n)?n.push(a):D!==null&&(n[D]=a)}var i={onObjectBegin:function(){var a={};o(a),r.push(n),n=a,D=null},onObjectProperty:function(a){D=a},onObjectEnd:function(){n=r.pop()},onArrayBegin:function(){var a=[];o(a),r.push(n),n=a,D=null},onArrayEnd:function(){n=r.pop()},onLiteralValue:o,onError:function(a,s,F){e.push({error:a,offset:s,length:F})}};return ot(u,i,t),n[0]}function ot(u,e,t){t===void 0&&(t=K.DEFAULT);var D=nt(u,!1);function n(h){return h?function(){return h(D.getTokenOffset(),D.getTokenLength(),D.getTokenStartLine(),D.getTokenStartCharacter())}:function(){return!0}}function r(h){return h?function($){return h($,D.getTokenOffset(),D.getTokenLength(),D.getTokenStartLine(),D.getTokenStartCharacter())}:function(){return!0}}var o=n(e.onObjectBegin),i=r(e.onObjectProperty),a=n(e.onObjectEnd),s=n(e.onArrayBegin),F=n(e.onArrayEnd),l=r(e.onLiteralValue),c=r(e.onSeparator),f=n(e.onComment),d=r(e.onError),B=t&&t.disallowComments,A=t&&t.allowTrailingComma;function p(){for(;;){var h=D.scan();switch(D.getTokenError()){case 4:E(14);break;case 5:E(15);break;case 3:E(13);break;case 1:B||E(11);break;case 2:E(12);break;case 6:E(16);break}switch(h){case 12:case 13:B?E(10):f();break;case 16:E(1);break;case 15:case 14:break;default:return h}}}function E(h,$,U){if($===void 0&&($=[]),U===void 0&&(U=[]),d(h),$.length+U.length>0)for(var z=D.getToken();z!==17;){if($.indexOf(z)!==-1){p();break}else if(U.indexOf(z)!==-1)break;z=p()}}function C(h){var $=D.getTokenValue();return h?l($):i($),p(),!0}function b(){switch(D.getToken()){case 11:var h=D.getTokenValue(),$=Number(h);isNaN($)&&(E(2),$=0),l($);break;case 7:l(null);break;case 8:l(!0);break;case 9:l(!1);break;default:return!1}return p(),!0}function w(){return D.getToken()!==10?(E(3,[],[2,5]),!1):(C(!1),D.getToken()===6?(c(":"),p(),uu()||E(4,[],[2,5])):E(5,[],[2,5]),!0)}function y(){o(),p();for(var h=!1;D.getToken()!==2&&D.getToken()!==17;){if(D.getToken()===5){if(h||E(4,[],[]),c(","),p(),D.getToken()===2&&A)break}else h&&E(6,[],[]);w()||E(4,[],[2,5]),h=!0}return a(),D.getToken()!==2?E(7,[2],[]):p(),!0}function m(){s(),p();for(var h=!1;D.getToken()!==4&&D.getToken()!==17;){if(D.getToken()===5){if(h||E(4,[],[]),c(","),p(),D.getToken()===4&&A)break}else h&&E(6,[],[]);uu()||E(4,[],[4,5]),h=!0}return F(),D.getToken()!==4?E(8,[4],[]):p(),!0}function uu(){switch(D.getToken()){case 3:return m();case 1:return y();case 10:return C(!0);default:return b()}}return p(),D.getToken()===17?t.allowEmptyContent?!0:(E(4,[],[]),!1):uu()?(D.getToken()!==17&&E(9,[],[]),!0):(E(4,[],[]),!1)}var it=rt;const at=/^\.{1,2}(\/.*)?$/,cu=u=>H(at.test(u)?u:`./${u}`),{existsSync:W}=j.default,st=u=>{try{return JSON.parse(u)}catch{}},lt=()=>{const{findPnpApi:u}=yD.default;return u&&u(process.cwd())};function zu(u){const e=st(j.default.readFileSync(u,"utf8"));return g.default.join(u,"..",e&&"tsconfig"in e?e.tsconfig:"tsconfig.json")}function Ft(u,e){let t=u;if(t===".."&&(t+="/tsconfig.json"),t.startsWith(".")){let r=g.default.resolve(e,t);if(W(r)&&j.default.statSync(r).isFile()||!r.endsWith(".json")&&(r+=".json",W(r)))return r;throw new Error(`File '${u}' not found.`)}const D=lt();if(D){const{resolveRequest:r}=D,[o,i]=u.split("/"),a=o.startsWith("@")?`${o}/${i}`:o;try{if(a===u){const s=r(g.default.join(a,"package.json"),e);if(s){const F=zu(s);if(W(F))return F}}else try{return r(u,e,{extensions:[".json"]})}catch{return r(g.default.join(u,"tsconfig.json"),e)}}catch{}}let n=lu(e,g.default.join("node_modules",t));if(n){if(j.default.statSync(n).isDirectory()){const r=g.default.join(n,"package.json");if(W(r)?n=zu(r):n=g.default.join(n,"tsconfig.json"),W(n))return n}else if(n.endsWith(".json"))return n}if(!t.endsWith(".json")&&(t+=".json",n=lu(e,g.default.join("node_modules",t)),n))return n;throw new Error(`File '${u}' not found.`)}var ct=Object.defineProperty,Ct=Object.defineProperties,ft=Object.getOwnPropertyDescriptors,Vu=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,Gu=(u,e,t)=>e in u?ct(u,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[e]=t,N=(u,e)=>{for(var t in e||(e={}))Et.call(e,t)&&Gu(u,t,e[t]);if(Vu)for(var t of Vu(e))dt.call(e,t)&&Gu(u,t,e[t]);return u},pt=(u,e)=>Ct(u,ft(e));function Zu(u){var e;let t;try{t=j.default.realpathSync(u)}catch{throw new Error(`Cannot resolve tsconfig at path: ${u}`)}const D=g.default.dirname(t),n=j.default.readFileSync(t,"utf8").trim();let r={};if(n&&(r=it(n),!r||typeof r!="object"))throw new SyntaxError(`Failed to parse tsconfig at: ${u}`);if(r.extends){const o=Ft(r.extends,D),i=Zu(o);if(delete i.references,(e=i.compilerOptions)!=null&&e.baseUrl){const{compilerOptions:s}=i;s.baseUrl=g.default.relative(D,g.default.join(g.default.dirname(o),s.baseUrl))||"./"}i.files&&(i.files=i.files.map(s=>g.default.relative(D,g.default.join(g.default.dirname(o),s)))),i.include&&(i.include=i.include.map(s=>g.default.relative(D,g.default.join(g.default.dirname(o),s)))),delete r.extends;const a=pt(N(N({},i),r),{compilerOptions:N(N({},i.compilerOptions),r.compilerOptions)});i.watchOptions&&(a.watchOptions=N(N({},i.watchOptions),r.watchOptions)),r=a}if(r.compilerOptions){const{compilerOptions:o}=r;o.baseUrl&&(o.baseUrl=cu(o.baseUrl)),o.outDir&&(Array.isArray(r.exclude)||(r.exclude=[]),r.exclude.push(o.outDir),o.outDir=cu(o.outDir))}if(r.files&&(r.files=r.files.map(cu)),r.include&&(r.include=r.include.map(H)),r.watchOptions){const{watchOptions:o}=r;o.excludeDirectories&&(o.excludeDirectories=o.excludeDirectories.map(i=>H(g.default.resolve(D,i))))}return r}function gt(u=process.cwd(),e="tsconfig.json"){const t=lu(u,e);if(!t)return null;const D=Zu(t);return{path:t,config:D}}const Ju=gt();function ht(u){const e=dD.createFilter(/\.([cm]?ts|[jt]sx)$/);return{name:"esbuild-transform",async transform(t,D){var n;if(!e(D))return null;const r=await Eu.transform(t,{...u,loader:"default",sourcefile:D.replace(/\.[cm]ts/,".ts"),tsconfigRaw:(n=Ju)==null?void 0:n.config});return{code:r.code,map:r.map||null}}}}const mt=u=>{if(u==="es")return"esm";if(u==="cjs"||u==="iife")return u};function Bt(u){return{name:"esbuild-minify",async renderChunk(e,t,D){const n=await Eu.transform(e,{...u,format:mt(D.format),minify:!0});return{code:n.code,map:n.map||null}}}}const Cu=(u,e)=>u[0]-e[0]||u[1]-e[1]||u[2]-e[2],Yu=({target:u})=>{const e=u.some(t=>{var D,n;if(t=t.trim(),!t.startsWith("node"))return;const r=t.slice(4).split(".").map(Number),o=[r[0],(D=r[1])!=null?D:0,(n=r[2])!=null?n:0];return!(Cu(o,[12,20,0])>=0&&Cu(o,[13,0,0])<0||Cu(o,[14,13,1])>=0)});return{name:"externalize-node-builtins",resolveId:t=>{const D=t.startsWith("node:");if(e&&D&&(t=t.slice(5)),du.builtinModules.includes(t)||D)return{id:t,external:!0}}}},At=u=>({name:"patch-binary",renderChunk(e,t,D){if(!t.isEntry||!t.facadeModuleId)return;const n=D.entryFileNames,r=`./${g.default.join(D.dir,n(t))}`;if(u.includes(r)){const o=new vD.default(e);return o.prepend(`#!/usr/bin/env node
`),{code:o.toString(),map:D.sourcemap?o.generateMap({hires:!0}):void 0}}},async writeBundle(e,t){const D=e.entryFileNames,n=Object.values(t).map(async r=>{const o=r;if(o.isEntry&&o.facadeModuleId){const i=g.default.join(e.dir,D(o));await j.default.promises.chmod(i,493)}});await Promise.all(n)}});function Hu(){const u=/\.(?:[mc]?js|jsx)$/;return{name:"resolve-typescript-mjs-cjs",resolveId(e,t,D){return u.test(e)&&t?this.resolve(e.replace(/js(x?)$/,"ts$1"),t,D):null}}}const Ku=u=>u.split("?")[0],Qu={async type(u){const e=await Promise.resolve().then(function(){return require("./rollup-plugin-dts-bed398d8.js")});return{input:[],preserveEntrySignatures:"strict",plugins:[Yu(u),Hu(),e.default({respectExternal:!0})],output:[],external:[]}},app(u,e,t,D){const n={target:u.target};return{input:[],preserveEntrySignatures:"strict",plugins:[Yu(u),Hu(),AD.default({entries:e}),hD.default({extensions:[".mjs",".js",".ts",".jsx",".tsx",".json"],exportConditions:u.exportCondition}),...Object.keys(t).length>0?[pu.default({preventAssignment:!0,objectGuards:!0,values:t})]:[],mD.default(),BD.default(),ht(n),et(),...u.minify?[Bt(n)]:[],At(D)],output:[],external:[]}}};async function bt(u,e,t,D,n,r){const o=t.filter(({exportEntry:s})=>s.isExecutable).map(({exportEntry:s})=>s.outputPath),i=Object.create(null),a=Object.fromEntries(D.env.map(({key:s,value:F})=>[`process.env.${s}`,JSON.stringify(F)]));for(const{input:s,srcExtension:F,distExtension:l,exportEntry:c}of t){if(c.type==="types"){let p=i.type;p||(p=await Qu.type(D),p.external=r,i.type=p),p.input.includes(s)||p.input.push(s),p.output.push({dir:e,entryFileNames:E=>j.default.realpathSync.native(Ku(E.facadeModuleId)).slice(u.length,-F.length)+l,exports:"auto",format:"esm"});continue}let f=i.app;f||(f=Qu.app(D,n,a,o),f.external=r,i.app=f),f.input.includes(s)||f.input.push(s);const d=f.output,B=g.default.extname(c.outputPath),A=`${c.type}-${B}`;if(!d[A]){const p={dir:e,exports:"auto",format:c.type,chunkFileNames:`[name]-[hash]${B}`,sourcemap:D.sourcemap,plugins:[tt(c.type==="module")],entryFileNames:E=>j.default.realpathSync.native(Ku(E.facadeModuleId)).slice(u.length,-F.length)+l};d.push(p),d[A]=p}}return i}let T=!0;const R=typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{};let Xu=0;if(R.process&&R.process.env&&R.process.stdout){const{FORCE_COLOR:u,NODE_DISABLE_COLORS:e,TERM:t}=R.process.env;e||u==="0"?T=!1:u==="1"?T=!0:t==="dumb"?T=!1:"CI"in R.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(D=>D in R.process.env)?T=!0:T=process.stdout.isTTY,T&&(Xu=t&&t.endsWith("-256color")?2:1)}let uD={enabled:T,supportLevel:Xu};function yt(u,e,t=1){const D=`\x1B[${u}m`,n=`\x1B[${e}m`,r=new RegExp(`\\x1b\\[${e}m`,"g");return o=>uD.enabled&&uD.supportLevel>=t?D+(""+o).replace(r,D)+n:""+o}const vt=yt(90,39),wt=()=>new Date().toLocaleTimeString(),Q=(...u)=>console.log(`[${vt(wt())}]`,...u);var DD,eD;const{stringify:tD}=JSON,q=ze({name:"pkgroll",version:Ve,flags:{src:{type:String,description:"Source directory",default:"./src"},dist:{type:String,description:"Distribution directory",default:"./dist"},minify:{type:Boolean,description:"Minify output",alias:"m",default:!1},target:{type:[String],default:[`node${process.versions.node}`],description:"Environments to support. `target` in tsconfig.json is automatically added. Defaults to the current Node.js version.",alias:"t"},watch:{type:Boolean,description:"Watch mode",alias:"w",default:!1},env:{type:[function(e){const[t,D]=e.split("=");return{key:t,value:D}}],description:"Compile-time environment variables (eg. --env.NODE_ENV=production)"},exportCondition:{type:[String],description:"Export conditions for resolving dependency export and import maps (eg. --export-condition=node)"},sourcemap:{type(u){if(u==="")return!0;if(u==="inline")return u;throw new Error(`Invalid sourcemap option ${tD(u)}`)},description:"Sourcemap generation. Provide `inline` option for inline sourcemap (eg. --sourcemap, --sourcemap=inline)"}},help:{description:"Minimalistic package bundler",render(u,e){return e.flagOperator=t=>t.name==="env"?".key=":" ",e.render(u)}}}),nD=process.cwd(),rD=Y(q.flags.src,!0),X=Y(q.flags.dist,!0),oD=(eD=(DD=Ju)==null?void 0:DD.config.compilerOptions)==null?void 0:eD.target;oD&&q.flags.target.push(oD),(async()=>{const u=await Ge(nD);let e=Je(u);if(e=e.filter(o=>{const i=o.outputPath.startsWith(X);return i||console.warn(`Ignoring entry outside of ${X} directory: package.json#${o.from}=${tD(o.outputPath)}`),i}),e.length===0)throw new Error("No export entries found in package.json");const t=await Promise.all(e.map(async o=>({...await Dt(o,rD,X),exportEntry:o}))),D=Ke(u,nD),n=He(u).filter(o=>!(o in D)).flatMap(o=>[o,new RegExp(`^${o}/`)]),r=await bt(Y(j.default.realpathSync.native(rD),!0),X,t,q.flags,D,n);q.flags.watch?(Q("Watch initialized"),Object.values(r).map(async o=>{fu.watch(o).on("event",async a=>{a.code==="BUNDLE_START"&&Q("Building",...Array.isArray(a.input)?a.input:[a.input]),a.code==="BUNDLE_END"&&(await Promise.all(o.output.map(s=>a.result.write(s))),Q("Built",...Array.isArray(a.input)?a.input:[a.input])),a.code==="ERROR"&&Q("Error:",a.error.message)})})):await Promise.all(Object.values(r).map(async o=>{const i=await fu.rollup(o);return Promise.all(o.output.map(a=>i.write(a)))}))})().catch(u=>{console.error(u),process.exit(1)});
